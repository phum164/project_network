<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Memory Game</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="/socket.io/socket.io.js"></script>
    <script src="scripts.js"></script>
</head>

<body class="memory-game-page">

    <script>
        // Retrieve player name and room code from URL when page loads
        document.addEventListener('DOMContentLoaded', () => {
            const queryParams = new URLSearchParams(window.location.search);
            const playerName = queryParams.get('name');
            const roomCode = queryParams.get('room');
            const totalCards = queryParams.get('cards');

            if (playerName && roomCode) {
                console.log(roomCode);
                console.log(playerName);
                // Set up socket and join the room
                joinRoom(roomCode, playerName, totalCards);
                document.getElementById('player-info').textContent = `Player: ${playerName} | Room: ${roomCode}`;
            } else {
                alert('Player name and room code are required to join.');
                window.location.href = 'index.html'; // Redirect back if data is missing
            }
        });
    </script>

    <!-- เพิ่มเพลงพื้นหลัง -->
    <audio id="background-music" autoplay loop hidden>
        <source src="sounds/drago.mp3" type="audio/mp3">
        <!-- คุณสามารถเพิ่ม source สำหรับไฟล์เสียงรูปแบบอื่นๆ ได้ตามต้องการ -->
        Your browser does not support the audio element.
    </audio>

    <div>
        <div class="turn-indicator">
            <section class="game-status">
                <p id="turn-indicator" style="color: rgb(222, 247, 0); margin-left: 3em;font-size: 1.3em;" >Wait another player</p>
            </section>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.14.1/dist/sweetalert2.all.min.js">
    </script>
    <!-- โชว์คะแนน ประวัติการแพ้ชนะ -->
    <p id="player-info" style="color: white; margin-left: 3em;font-size: 1.3em;"></p>
    <br>
    <section class="score-section">
        <div id="score">Score 0</div>
        <div class="hisgame">
            <p>ประวัติการแพ้ชนะ</p>
            <p id="win-tracker">ประวัติ คุณ: 0 || ฝ่ายตรงข้าม: 0</p>
        </div>
    </section>
    <!-- end  -->


    <section class="memory-game">
        <div class="memory-card" id="card-1" data-framework="animalH1" onclick="flipCard(1)">
            <img class="front-face" src="img\animalH1.svg" alt="animalH1" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>
        <div class="memory-card" id="card-2" data-framework="animalH1" onclick="flipCard(2)">
            <img class="front-face" src="img\animalH1.svg" alt="animalH1" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>

        <div class="memory-card" id="card-3" data-framework="animalH2" onclick="flipCard(3)">
            <img class="front-face" src="img\animalH2.svg" alt="animalH2" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>
        <div class="memory-card" id="card-4" data-framework="animalH2" onclick="flipCard(4)">
            <img class="front-face" src="img\animalH2.svg" alt="animalH2" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>

        <div class="memory-card" id="card-5" data-framework="animalH3" onclick="flipCard(5)">
            <img class="front-face" src="img\animalH3.svg" alt="animalH3" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>
        <div class="memory-card" id="card-6" data-framework="animalH3" onclick="flipCard(6)">
            <img class="front-face" src="img\animalH3.svg" alt="animalH3" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>

        <div class="memory-card" id="card-7" data-framework="animalH4" onclick="flipCard(7)">
            <img class="front-face" src="img\animalH4.svg" alt="animalH4" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>
        <div class="memory-card" id="card-8" data-framework="animalH4" onclick="flipCard(8)">
            <img class="front-face" src="img\animalH4.svg" alt="animalH4" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>

        <div class="memory-card" id="card-9" data-framework="animalH5" onclick="flipCard(9)">
            <img class="front-face" src="img\animalH5.svg" alt="animalH5" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>
        <div class="memory-card" id="card-10" data-framework="animalH5" onclick="flipCard(10)">
            <img class="front-face" src="img\animalH5.svg" alt="animalH5" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>

        <div class="memory-card" id="card-11" data-framework="animalH6" onclick="flipCard(11)">
            <img class="front-face" src="img\animalH6.svg" alt="animalH6" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>
        <div class="memory-card" id="card-12" data-framework="animalH6" onclick="flipCard(12)">
            <img class="front-face" src="img\animalH6.svg" alt="animalH6" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>

        <div class="memory-card" id="card-13" data-framework="animalH7" onclick="flipCard(13)">
            <img class="front-face" src="img\animalH7.svg" alt="animalH7" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>
        <div class="memory-card" id="card-14" data-framework="animalH7" onclick="flipCard(14)">
            <img class="front-face" src="img\animalH7.svg" alt="animalH7" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>


        <div class="memory-card" id="card-15" data-framework="animalH8" onclick="flipCard(15)">
            <img class="front-face" src="img\animalH7.svg" alt="animalH8" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>
        <div class="memory-card" id="card-16" data-framework="animalH8" onclick="flipCard(16)">
            <img class="front-face" src="img\animalH7.svg" alt="animalH8" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>

        <div class="memory-card" id="card-17" data-framework="animalH9" onclick="flipCard(17)">
            <img class="front-face" src="img\animalH8.svg" alt="animalH9" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>
        <div class="memory-card" id="card-18" data-framework="animalH9" onclick="flipCard(18)">
            <img class="front-face" src="img\animalH8.svg" alt="animalH9" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>


        <div class="memory-card" id="card-19" data-framework="animalH10" onclick="flipCard(19)">
            <img class="front-face" src="img\animalH10.svg" alt="animalH10" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>
        <div class="memory-card" id="card-20" data-framework="animalH10" onclick="flipCard(20)">
            <img class="front-face" src="img\animalH10.svg" alt="animalH10" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>

        <div class="memory-card" id="card-21" data-framework="animalH11" onclick="flipCard(21)">
            <img class="front-face" src="img\animalH11.svg" alt="animalH11" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>
        <div class="memory-card" id="card-22" data-framework="animalH11" onclick="flipCard(22)">
            <img class="front-face" src="img\animalH11.svg" alt="animalH11" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>

        <div class="memory-card" id="card-23" data-framework="animalH12" onclick="flipCard(23)">
            <img class="front-face" src="img\animalH12.svg" alt="animalH12" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>
        <div class="memory-card" id="card-24" data-framework="animalH12" onclick="flipCard(24)">
            <img class="front-face" src="img\animalH12.svg" alt="animalH12" />
            <img class="back-face" src="img\animal-badge.svg" alt="f7" />
        </div>
    </section>

</body>

</html>